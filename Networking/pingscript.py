#!/bin/python3

import sys
import os
import threading

def ping(ip_address):
    resp = os.system('ping -c 1 -w 1 {} | grep "64 bytes" | cut -d" " -f4 | sed "s/.$//"'.format(ip_address))

def launch_bg_ping(ip_address):
    bg = threading.Thread(target=ping, args=[ip_address])
    bg.start()

def enum_addrs(ip_network):
    addrs = []
    for i in range(1, 255):
        addrs.append(ip_network + '.' + str(i))
    return addrs

def get_net_range():
    if len(sys.argv) == 1:
        print("No input detected on CLI! Please enter a network range > ", end='')
        return input()
    else:
        return sys.argv[1]

def main():
    addrs = get_net_range()
    for addr in enum_addrs(addrs):
        launch_bg_ping(addr)

if __name__ == '__main__':
    main()

